# Rotate a u32 by 12 Bits to the Right

```
// Input
<0x8700> // A_3
<0x65>   // A_2
<0x43>   // A_1
<0x21>   // A_0


//
// Algorithm
//

<0>
OP_TOALTSTACK

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <8>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <4>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <2>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    OP_1ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_FROMALTSTACK


// Second byte 
OP_ROT

<0>
OP_TOALTSTACK

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <8>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <4>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <2>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    OP_1ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_FROMALTSTACK



// Third byte 
<4>
OP_ROLL

<0>
OP_TOALTSTACK

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <8>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <4>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <2>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    OP_1ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_FROMALTSTACK




// Fourth byte 
<6>
OP_ROLL

<0>
OP_TOALTSTACK

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <8>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <4>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    <2>
    OP_ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_DUP
<128>
OP_GREATERTHANOREQUAL
OP_IF
    <128>
    OP_SUB
    OP_FROMALTSTACK
    OP_1ADD
    OP_TOALTSTACK
OP_ENDIF

OP_DUP
OP_ADD

OP_FROMALTSTACK


// 
// Glue it all together
//

<5>
OP_ROLL
<6>
OP_ROLL
OP_ADD

OP_SWAP
<6>
OP_ROLL
OP_ADD

OP_ROT
<3>
OP_ROLL
OP_ADD

<4>
OP_ROLL

<4>
OP_ROLL
OP_ADD
```
